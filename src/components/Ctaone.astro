---
import { getLanguageFromURL, useTranslations, getLanguageDirection } from '../i18n/utils';

const lang = getLanguageFromURL(Astro.url.pathname);
const t = useTranslations(lang);
const translations = await t('cta');
const isRTL = getLanguageDirection(lang) === 'rtl';
---

<div class="relative bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-500 dark:to-purple-500">
  <div class="absolute inset-0">
    <div class="absolute inset-0 bg-[url('/images/grid.svg')] opacity-10"></div>
    <div class="absolute inset-0 bg-black/10"></div>
  </div>
  
  <div class={`relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-20 ${isRTL ? 'rtl' : ''}`}>
    <div class={`flex flex-col lg:flex-row items-center justify-between gap-12 ${isRTL ? 'lg:flex-row-reverse' : ''}`}>
      <div class={`text-center lg:text-right max-w-2xl ${isRTL ? 'lg:text-right' : 'lg:text-left'}`}>
        <h2 class="font-inter text-3xl md:text-4xl font-bold text-white">
          {translations?.heading || "Every second you wait, someone else is taking your spotlight"}
        </h2>
        <p class="font-inter text-lg text-white/90 mt-4">
          {translations?.subheading || "Let's create something unforgettableâ€”starting now."}
        </p>
      </div>
      <div class={`flex flex-col sm:flex-row gap-4 shrink-0 ${isRTL ? 'sm:flex-row-reverse' : ''}`}>
        <a
          href="/contact"
          class="font-inter px-8 py-4 bg-white text-blue-600 hover:bg-blue-50 font-semibold rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl text-center whitespace-nowrap"
        >
          {translations?.getStarted || "Get Started"}
        </a>
        <a
          href="/services"
          class="font-inter px-8 py-4 bg-blue-700 text-white hover:bg-blue-800 font-semibold rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl text-center whitespace-nowrap"
        >
          {translations?.viewServices || "View Services"}
        </a>
      </div>
    </div>
  </div>
</div>